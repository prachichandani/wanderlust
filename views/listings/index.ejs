<% layout('/layouts/boilerplate') %>                              
<!-- <body>
  <h3>All listings</h3> -->
    <!-- <form method="get" action="/listings/new">
        <button>Add new listing</button>
    </form> -->
    <style>
      #filters{
        display: flex;
        flex-wrap: wrap;
        text-align: center;
      }

      .filter{
        text-align: center;
        margin-right: 2.5rem;
        margin-bottom: 0.5rem;
        margin-top: 1rem;
        opacity: 0.8;
      }
      .filter:hover{
        opacity: 1;
      }
      .filter p{
        font-size: 0.8rem;
      }
      .tax-info{
        display: none;
      }
      .form-check{
        border: 1.5px solid black;
        border-radius: 1rem;
        height: 3.5rem;
        padding: 1rem;
        padding-left: 1rem !important;
        margin-left: 5.5rem;
        margin-top: 0.5rem;
      }

    </style>
  

    <div  id="filters">
      <div class="filter">
        <i class="fa-solid fa-fire"></i>
        <p>Trending</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-bed"></i>
        <p>Rooms</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-mountain-city"></i>
        <p>Iconic cities</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-mountain"></i>
        <p>Mountain</p>
      </div>
      <div class="filter">
        <i class="fa-brands fa-fort-awesome"></i>
        <p>Castles</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-person-swimming"></i>
        <p>Amazing pools</p>
      </div>
      <div class="filter">
       <i class="fa-solid fa-campground"></i>
        <p>Camping</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-cow"></i>
        <p>Farms</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-snowflake"></i>
        <p>Artic</p>
      </div>
      <div class="filter">
       <i class="fa-solid fa-igloo"></i>
        <p>Dome</p>
      </div>
      <div class="filter">
        <i class="fa-solid fa-umbrella-beach"></i>
        <p>Beach</p>
      </div>

      <div class=" form-check form-switch form-check-reverse">
        <input class="form-check-input" type="checkbox" id="switchCheckReverse">
        <label class="form-check-label" for="switchCheckReverse">Display total after taxes</label>
      </div>
    </div>



 <div class=" row row-cols-lg-3 row-cols-md-2  row-cols-md-1">
<% for(let listing of alllistings){ %>
  <a href="/listings/<%=listing._id%> " class="listing-link">
    <div class="card col listing-card" >
  <img src="<%=listing.image.url%>" class="card-img-top" alt="..." style="height: 20rem; ">
  <div class="card-img-overlay"></div>
  <div class="card-body">
    <p class="card-text"> <b><%=listing.title%></b>
    <br> <%=listing.price%> /night 
    <i class="tax-info"> &nbsp;+18%gst</i>
</p>
  </div>
  </div>
  </a>
 <%} %>
 </div> 
</body>


<script>
  let taxSwitch = document.getElementById('switchCheckReverse')
  taxSwitch.addEventListener('click',()=>{
    let taxinfo = document.getElementsByClassName('tax-info');
    for(info of taxinfo){
      if(info.style.display!= 'inline'){
        info.style.display= 'inline';
      }else{
        info.style.display = 'none'
      }
      
    }
  })

  
</script>


